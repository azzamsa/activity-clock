<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <script type="text/javascript" src="https://d3js.org/d3.v3.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>

  <body>

    <div class="container">
      <form class="form-style-9" id="activities-form" onsubmit="return makeSearch()">
        <ul class="personal-details">

	  <li>
	    <ul class="column">
	      <li>
	        <label for="StartTime">Start Time</label>
	        <input id="StartTime" type="text"
                       name="StartTime" class="field-style field-split25 align-left"
                       placeholder="Number: 1 to 24" />
	      </li>
	    </ul>
	  </li>

	  <li>
	    <ul class="column">
	      <li>
	        <label for="EndTime">End Time</label>
	        <input id="EndTime" type="text"
                       name="EndTime"
                       class="field-style field-split25 align-left"
                       placeholder="Number: 1 to 24" />
	      </li>
	    </ul>
	  </li>

	  <li>
	    <ul class="column">
	      <li>
	        <label for="ActivityName">Name</label>
	        <input id="ActivityName" type="text"
                       name="ActivityName"
                       class="field-style field-split25 align-left"
                       placeholder="Sleep" />
	      </li>
	    </ul>
	  </li>

	  <li>
	    <ul class="column">
	      <li>
	        <label for="ColorTime">Color</label>
	        <input id="ColorTime" type="text" name="ColorTime"
                       class="field-style field-split25 align-left"
                       placeholder="Color" />
	      </li>
	    </ul>
	  </li>
        </ul>

        <button type="button" class="add-row">+</button>

        <div class="submit-div">
	  <ul>
	    <li>
	      <input type="submit" value="Submit" class="submit-btn" />
	    </li>
	  </ul>
        </div>

      </form>
    </div>

    <div class="title">
      <h2>Daily Schedule</h2>
    </div>
    <div class="container">
      <div class="chart"></div>
      <div class="legend">
        <svg id="legend" height=500 width=350></svg></div>
    </div>

    <script src="clock.js"></script>

    <script>
      $(document).ready(function(){
        $( ".add-row" ).click(function(){
          var $clone = $( "ul.personal-details" ).first().clone();
          $clone.append( "<button type='button' class='remove-row'>-</button>" );
          $clone.insertBefore( ".add-row" );
        });

        $( ".form-style-9" ).on("click", ".remove-row", function(){
          $(this).parent().remove();
        });

      });

      function splitArray(array, stride, size) {
        var tmp = [];
        for(var i = 0; i < array.length; i += stride) {
          tmp.push(array.slice(i, i + size));
        }
        return tmp;
      }

      function makeSearch() {
        var theArray = $('#activities-form').serializeArray();

        var activities_ = splitArray(theArray, 4, 4);
        makeClock(activities_);

        return false; // to be able to use console.log
      }
    </script>

  </body>
</html>
